<head>
  <title>sign in</title>
  <!-- <link rel="stylesheet" href="https://unpkg.com/chota@latest"> -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="electron-titlebar" style="z-index:100;" class="drag">
    <div id="titlebar-title" style="width: 100%; height: 100%; color:black; text-align: center; line-height: 40px; font-size:14px; opacity:0.5; font-style:oblique;">siGn in</div>
  </div>
  <div>
    <!-- <div id="options-container"> -->
      <div id="options" style="display:none;">
        <div style="position:sticky; top:0; float:right; ">
          <input type="button" id="leaveopts" value="save & return">
        </div>
        <h1 style="margin:0.5em 0 0.5em 0.5em;display:inline;">Options</h1>
        <hr style="position:relative; margin:0.5em 0 2em 0; left:0.7em; width:10em; border:1px solid black;">

        <label for="cachetokens">Store tokens for faster login: </label>
        <input type="checkbox" id="cachetokens" style="display:inline;"><br><br>

        <label for="cachedlength" style="display:inline;">Number of messages loaded from channel cache:</label>
        <input type="number" id="cachedlength" value="15" style="display:inline;" min="5" max="50"><br><br>

        <label for="minimizeWhenClosed" title="right-click on the tray icon to fully quit">Minimize window to tray
          when closed</label>
        <input type="checkbox" id="minimizeWhenClosed" title="right-click on the tray icon to fully quit"><br><br>

        <label for="typingIndicator">Users can see when you're typing</label>
        <input type="checkbox" id="typingIndicator" style="display:inline;"><br><br>

        <label for="viewperms">Only show channels with "view" permissions:</label>
        <input type="checkbox" id="viewperms" style="display:inline;"><br><br>

        <label for="scriptsenabled">Allow custom scripts to run</label>
        <input type="checkbox" id="scriptsenabled" style="display:inline;"><br><br>

        <label for="logfile">Log certain events to a file for scripting and debugging</label>
        <input type="checkbox" id="logfile" style="display:inline;"><br><input id="clearlogfile" type="button" style="margin-left:1.5em;"
          onclick="require('fs').writeFileSync('./logfile', '');" value="Clear logfile"><br><br>

        <br><label for="devmode">Toggle developer mode: </label>
        <input type="checkbox" id="devmode" style="display:inline;"><br><br>

        <br><br><input type="button" id="clearcache" value="clear cached tokens">
        <input type="button" id="viewtokens" value="view cached tokens"><br>
        <label for="clearcache" style="display:none;">tokens cleared!</label><br>
        <input type="button" id="opt-restore-defaults" value="restore defaults"/>
        <br>
        <h2 style="width:fit-content; padding:0 0.3em 0.3em 0; margin-left:1em; border-bottom:1.5px solid black;">Advanced
        </h2>
        <div style="margin-left:1.5em;">
          <label for="enter-script-button">Add a custom script <a href="https://github.com/kiawildberger/vassalize/blob/master/README.md#Scripts" target="_blank">Learn more</a>&nbsp;&nbsp;</label>
          <input type="button" onclick="document.getElementById('custom-script-input').click()"
            value="select files"><input type="button" title="requires sign-in"
            value="Reload window">
          <input type="file" multiple accept="text/javascript" id="custom-script-input" style="display:none;">
        </div>
        <ul id="cscript-list"></ul>
      </div>
    <!-- </div> -->
    <img id="topt" src="assets/settingsicon.svg" returnTo="bs">
    <img id="loginbg" style="width:100%; height:100%; position:absolute; z-index:-1;" draggable="false" src="assets/login-background.jpg">
    <div id="bs">
      <div id="bs-helper"></div>
      <div class="bs-input-container">
        <input id="bot-secret" type="password" placeholder="enter a bot token"><span id="bs-btn-arrow">&gt;</span>
        <img id="cached-btn" src="assets/arrow-down.svg" mode="submit">
        <!-- <img id="cached-btn" src="assets/cached-arrow.svg"> -->
        <div id="cached" style="display:none;">
          <div align="center" style="font-size:14px; position:sticky; margin-top:0.5em; font-style:italic;">login with a previous token</div>
        </div>
      </div>
    </div>
    <div id="container" style="display:none;">
      <div id="serverlist">
        <div class="serverlist-label">servers</div>
      </div>
      <div id="channellist" style="display:none;">
        <div id="channel-label">channels</div>
        <div id="textchannels"></div>
        <div id="voicechannels"></div>
      </div>
      <div id="voicestate" style="display:none;">
        <p id="vcchannel" style="display:inline;color:white;margin-right:0.5em;vertical-align: middle;"></p>
        <img src="./assets/muted.png" id="vc-mute"/>
        <img src="./assets/vc-dc.png" id="vc-dc"/>
      </div>
      <span id="errout"></span>
      <div id="msgdisplay" class="collection"></div>
      <div id="cantviewchannel" style="display:none;">bot doesnt have permission to view this channel<br>
        <p style="font-size:0.8em;">you can change the visibility of these channels in the <span class="hoverunderline" style="text-decoration:underline;" onclick="document.getElementById('topt').click()">options</span></p>
      </div>
      <input id="msgin" type="text" disabled="true">
      <input type="button" id="selectfile" style="display:none;" value="upload file"/ onclick="document.getElementById('fileupload').click()">
      <input type="file" id="fileupload" style="display:none;"> <!-- worst ids ever i cant remember these -->
      <div id="userd"></div>
    </div>
  </div>
  <script src="index.js" type="module"></script>
</body>